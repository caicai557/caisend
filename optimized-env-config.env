# Telegram Web 自动回复系统 - 优化后的环境变量配置

# ============================================================================
# V2 监控器配置（优化版）
# ============================================================================

# 启用 V2 监控器
ENABLE_V2_MONITOR=true

# ============================================================================
# 日志配置
# ============================================================================

# 日志级别: debug, info, warn, error
LOG_LEVEL=info

# ============================================================================
# 性能监控配置
# ============================================================================

# 启用性能指标收集
ENABLE_METRICS=true

# Prometheus 指标端口
METRICS_PORT=9090

# ============================================================================
# V2 性能调优（优化版）
# ============================================================================

# 批处理大小 - 从50减少到30，降低内存压力
V2_BATCH_SIZE=30

# 节流延迟（毫秒） - 从100增加到150，给更多处理时间
V2_THROTTLE_MS=150

# 最大重试次数 - 保持不变
V2_MAX_RETRIES=3

# 观察器池最大大小 - 从10减少到8
V2_OBSERVER_POOL_MAX=8

# 垃圾回收间隔（毫秒） - 从60000减少到30000，更频繁清理
V2_GC_INTERVAL=30000

# ============================================================================
# 内存优化配置（新增）
# ============================================================================

# 启用内存监控
ENABLE_MEMORY_MONITOR=true

# 内存使用阈值（MB）- 超过此值触发清理
MEMORY_THRESHOLD_MB=512

# 强制GC间隔（毫秒）
FORCE_GC_INTERVAL=20000

# 最大消息队列大小
MAX_QUEUE_SIZE=1000

# ============================================================================
# 开发模式配置
# ============================================================================

# 开发模式
NODE_ENV=development

# 启用调试日志
DEBUG=false

# 启用热重载
HOT_RELOAD=true

# ============================================================================
# 错误处理配置（新增）
# ============================================================================

# 启用全局错误捕获
ENABLE_GLOBAL_ERROR_HANDLER=true

# 错误重试次数
ERROR_RETRY_COUNT=3

# 错误恢复延迟（毫秒）
ERROR_RECOVERY_DELAY=1000

# 启用崩溃报告
ENABLE_CRASH_REPORT=true
