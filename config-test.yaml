# Teleflow 测试配置文件
# 用于手动测试 Phase 4 Telegram Web 集成功能

version: "1.0"

# 账号配置
accounts:
  - name: "test-account"
    # 浏览器数据目录 - 用于会话持久化
    browser_data_dir: "browser_data/test"
    
    # 监控的聊天列表 - 使用测试聊天或群组
    monitor_chats:
      - "Saved Messages"  # 使用"已保存消息"进行自测
    
    # 回复规则 - 简单测试规则
    rules:
      - keywords: ["hello", "hi"]
        reply_text: "Hello! This is an automatic reply."
        fixed_delay: 2
        random_delay_max: 1
        case_sensitive: false
        enabled: true
        description: "测试问候回复"
      
      - keywords: ["test"]
        reply_text: "Test reply received!"
        fixed_delay: 1
        random_delay_max: 0
        case_sensitive: false
        enabled: true
        description: "测试关键词回复"

# 默认账号
default_account: "test-account"

# 日志配置
logging:
  level: "INFO"
  file: "logs/teleflow-test.log"
  max_size: "10MB"
  backup_count: 3
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# 浏览器配置
browser:
  headless: false  # 测试时显示浏览器
  viewport_width: 1280
  viewport_height: 720
  user_agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"

# 运行时配置
runtime:
  check_interval: 3  # 3秒检查间隔（测试用）
  random_seed: 12345  # 固定随机种子用于测试
  max_retries: 3
  retry_delay: 2.0

# 全局规则（当前未使用，预留）
global_rules: []

# 配置说明
# 1. 首次运行需要手动登录：teleflow run --config config-test.yaml --show-browser
# 2. 登录后会话会保存到 browser_data/test/ 目录
# 3. 后续运行可以使用无头模式：teleflow run --config config-test.yaml
# 4. 发送 "hello" 或 "test" 消息应该触发自动回复
# 5. 检查日志文件 logs/teleflow-test.log 查看详细运行信息
